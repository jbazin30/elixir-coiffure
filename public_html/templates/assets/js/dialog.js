var O; if (O){if ("object" != typeof O)throw new Error("O already exists & is not 1 object")} else O = {}; if (O.Dialog)throw new Error("O.Dialog already exists"); $(function(){O.Dialog.Init()}), O.Dialog = {Init:function(){O.Dialog.addService(), O.Dialog.getService(), O.Dialog.addClient(), O.Dialog.getPrestation(), O.Dialog.getWaitingFac()}, addService:function(){var i = $("#js_add_service"); i.dialog({autoOpen:!1, width:500, modal:!0, buttons:{Sauvegarder:function(){var i = {mod:"addService", cli_num:$("#js_fiche_client #cli_num").val(), fam_num:$("#js_add_service .tech").data("fam-num"), details:$("#js_add_service #details").val()}; O.Ajax.addService(i)}, Annuler:function(){i.dialog("close")}}, close:function(){$("#js_frm_service").reset()}})}, getService:function(){var i = $("#js_get_service"); i.dialog({autoOpen:!1, width:500, modal:!0, buttons:{Modifier:function(){var i = {mod:"editService", svc_num:$("#js_get_service #js_frm_service").data("num"), details:$("#js_get_service #details").val()}; O.Ajax.editService(i)}, Annuler:function(){i.dialog("close")}}, close:function(){}})}, addClient:function(){var i = $("#js_add_client"); i.dialog({autoOpen:!1, width:500, modal:!0, buttons:{Sauvegarder:function(){var i = {mod:"addClient", cli_nom:$("#cli_nom").val(), cli_prenom:$("#cli_prenom").val(), cli_adr:$("#cli_adr").val(), cli_cp:$("#cli_cp").val(), cli_ville:$("#cli_ville").val(), cli_tel:$("#cli_tel").val(), cli_mobile:$("#cli_mobile").val(), cli_email:$("#cli_email").val(), cli_naiss:$("#cli_naiss").val(), cli_genre:$("#cli_genre option:selected").val(), cli_sexe:$("#cli_sexe option:selected").val()}; O.Ajax.addClient(i)}, Annuler:function(){i.dialog("close")}}, close:function(){}})}, getPrestation:function(){var i = $("#js_add_pres"); i.dialog({autoOpen:!1, width:500, modal:!0, buttons:{Ajouter:function(){var e = {mod:"addPres", lst_pres:lst_pres, fac_num:$("#js_facturation p:first-child").data("fac-num")}; O.Ajax.addPrestation(e), i.dialog("close")}, Annuler:function(){$("#prestations").empty(), lst_pres = [], i.dialog("close")}}, close:function(){$("#prestations").empty()}})}, getWaitingFac:function(){var i = $("#js_add_waiting_fac"); i.dialog({autoOpen:!1, width:500, modal:!0, buttons:{Ajouter:function(){var e = {mod:"addWaitingFac", lst_fac:lst_fac, fac_num:$("#js_facturation p:first-child").data("fac-num")}; O.Ajax.addWaitingFac(e), i.dialog("close")}, Annuler:function(){$("#factures").empty(), lst_fac = [], i.dialog("close")}}, close:function(){$("#factures").empty()}})}};
