!function(t,e,o){function n(){var e=this;e.name="Footable Memory",e.init=function(e){l(e)&&t(e.table).bind({footable_initialized:function(){c(e)},"footable_page_filled footable_redrawn footable_filtered footable_sorted footable_row_expanded footable_row_collapsed":function(t){e.memory_plugin_loaded&&u(e,t)}})}}if(e.footable===o||null===e.foobox)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var r,a={memory:{enabled:!1}},i={};i.local_storage=function(t){"use strict";var e=function(){return location.pathname},o=function(){return location.hash||"root"},n=function(t){return e()+"/"+o()+"/index-"+t},r=function(t){var e=n(t),o=localStorage.getItem(e);return o?JSON.parse(o):{}},a=function(t,e){var o=n(t),r=JSON.stringify(e);localStorage.setItem(o,r)};return{get:function(t){return r(t)},set:function(t,e){a(t,e)}}}(t),i.cookie=function(t){"use strict";t.cookie&&(t.cookie.json=!0);var e=7,o=function(){return location.pathname},n=function(){return location.hash||"/"},r=function(){var e=o(),n=t.cookie(e);return n||{}},a=function(t){var e=n(),o=r();return o[e]&&o[e][t]?o[e][t]:{}},i=function(a,i){var f,l=o(),u=n(),c=r();c[u]||(c[u]={}),c[u][a]=i,f={path:l,expires:e},t.cookie(l,c,f)};return{get:function(t){return a(t)},set:function(t,e){i(t,e)}}}(t);var f=(function(){var e="footable-memory-plugin-storage-test";try{localStorage.setItem(e,e),localStorage.removeItem(e),r=i.local_storage}catch(o){try{t.cookie(e,e),r=i.cookie}catch(o){throw new Error("FooTable Memory requires either localStorage or cookie support via jQuery $.cookie plugin (https://github.com/carhartl/jquery-cookie)")}}}(t),function(t){"use strict";var e={},n={},r={};r.vars=function(o){e.ft=o,e.table=t(o.table)},n.descending=function(){var o=!1;return t.each(e.table.find("th"),function(e){t(this).hasClass("footable-sorted-desc")&&(o=!0)}),o},n.expanded=function(){var o=[];return t.each(e.ft.table.rows,function(e,n){t(this).hasClass("footable-detail-show")&&o.push(e)}),o},r.expanded=function(o){o.expanded&&t.each(o.expanded,function(o,n){!function(e){setTimeout(function(){var o=t(e.table.rows[n]);o.find("> td:first").trigger("footable_toggle_row")},150)}(e.ft)})},n.filter=function(){return e.table.data("filter")?t(e.table.data("filter")).val():""},r.filter=function(o){o.filter&&t(e.table.data("filter")).val(o.filter).trigger("keyup")},n.page=function(){return e.ft.pageInfo&&e.ft.pageInfo.currentPage!==o?e.ft.pageInfo.currentPage:0},r.page=function(t){t.page&&e.table.data("currentPage",t.page)},n.shown=function(){return e.table.find("tbody").find("tr:not(.footable-row-detail)").filter(":visible").length},n.sorted=function(){return e.table.data("sorted")!==o?e.table.data("sorted"):-1},r.sorted=function(o){o.sorted>=0?!function(e){setTimeout(function(){t(e.table).data("footable-sort").doSort(o.sorted,!o.descending)},150)}(e.ft):e.table.trigger("footable_setup_paging")},n.total=function(){return e.table.find("tbody").find("tr:not(.footable-row-detail, .footable-filtered)").length};var a=function(){return{descending:n.descending(),expanded:n.expanded(),filter:n.filter(),page:n.page(),shown:n.shown(),sorted:n.sorted(),total:n.total()}},i=function(t){r.filter(t),r.page(t),r.sorted(t),r.expanded(t)};return{get:function(t){return r.vars(t),a()},set:function(t,e){return r.vars(t),i(e)}}}(t)),l=function(t){return t.options.memory.enabled},u=function(t,e){var o=t.id,n=f.get(t);r.set(o,n)},c=function(t){var e=t.id,o=r.get(e);f.set(t,o),t.memory_plugin_loaded=!0};e.footable.plugins.register(n,a)}(jQuery,window);